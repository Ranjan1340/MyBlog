{% extends 'blog/base.html' %}

{% block title %}Blog Posts{% endblock %}

{% block content %}
<h1>My Blog</h1>
{% for post in posts %}
<div class="card mb-3" style="width: 18rem;">
    <a href="{% url 'post_detail' post.pk %}" class="text-decoration-none text-dark">
        <div class="card-body p-3">
            <h2 class="card-title">{{ post.title|slice:":1"|upper }}{{ post.title|slice:"1:"|lower }}</h2>
            <h6 class="card-subtitle mb-2 text-body-secondary">Published {{ post.publish_date }} by {{ post.author }}</h6>
            <p class="card-text">{{ post.content }}</p>
            <p><strong>Tags:</strong>
                {% for tag in post.tags.all %}
                    <span class="badge bg-secondary">{{ tag }}</span>
                {% endfor %}
            </p>
        </div>
    </a>
</div>
{% endfor %}
<div class="pagination">
    {% if is_paginated %}
        {% if page_obj.has_previous %}
            <a href="?page=1">First</a>
            <a href="?page={{ page_obj.previous_page_number }}">Previous</a>
        {% endif %}

        <span>Page {{ page_obj.number }} of {{ page_obj.paginator.num_pages }}</span>

        {% if page_obj.has_next %}
            <a href="?page={{ page_obj.next_page_number }}">Next</a>
            <a href="?page={{ page_obj.paginator.num_pages }}">Last</a>
        {% endif %}
    {% endif %}
</div>
{% endblock %}
